import{o as C,u as D,r as m,j as e,p,U as A,m as B,C as I,d as P,e as L}from"./index-BIr1CvZ7.js";import{C as a,a as i,B as d,b as g,c as b}from"./card-6NkzblJU.js";import{B as v,C as T}from"./badge-Uri-HX_n.js";import{L as S,a as U,G,b as R,F as O,B as _,C as $}from"./loader-circle-DxQZixvH.js";import{C as z,A as H}from"./circle-check-big-DfAzUTdu.js";import{M as W}from"./mail-ByJSmL1V.js";import{G as F}from"./globe-CIxem3UQ.js";const X=()=>{const{developerId:h}=C(),f=D(),[s,y]=m.useState(null),[w,j]=m.useState(!0),[u,c]=m.useState(null),N=(l,t,o="")=>{try{const r=t.split(".").reduce((x,n)=>x&&x[n]!==void 0?x[n]:null,l);return r??o}catch(r){return console.warn(`Error accessing path ${t}:`,r),o}},k=l=>{if(!l)return"N/A";try{return new Date(l).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}catch(t){return console.warn(`Error formatting date ${l}:`,t),"Invalid date"}},E=l=>{if(!l)return"D";try{return l.split(" ").map(t=>t[0]).join("").toUpperCase()}catch(t){return console.warn(`Error getting initials for ${l}:`,t),"D"}};return m.useEffect(()=>{h&&(async()=>{var t,o;j(!0),c(null);try{const r=P.getAuthToken();if(!r)throw new Error("Authentication token not found");const n=await L.get(`https://api.stackmint.in/v1/developers/${h}`,{headers:{Authorization:r},timeout:15e3});if(n.data)console.log("Developer profile data:",n.data),y(n.data);else throw new Error("Empty response from server")}catch(r){console.error("Error fetching developer profile:",r),r.code==="ECONNABORTED"?c("Request timed out. Please check your internet connection and try again."):((t=r.response)==null?void 0:t.status)===404?c("Developer profile not found."):((o=r.response)==null?void 0:o.status)===401?c("Your session has expired. Please log in again."):c(r.message||"Failed to load developer profile")}finally{j(!1)}})()},[h]),w?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-blue-100/50",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx(S,{className:"w-12 h-12 text-blue-600 animate-spin mb-4"}),e.jsx("p",{className:"text-blue-600 font-medium",children:"Loading developer profile..."})]})}):u?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-blue-100/50",children:e.jsx(a,{className:"max-w-md w-full shadow-lg border-red-100",children:e.jsx(i,{className:"p-6",children:e.jsxs("div",{className:"flex flex-col items-center text-center",children:[e.jsx(U,{className:"w-16 h-16 text-red-500 mb-4"}),e.jsx("h2",{className:"text-2xl font-bold text-red-700 mb-2",children:"Error Loading Profile"}),e.jsx("p",{className:"text-gray-600 mb-6",children:u}),e.jsxs(d,{onClick:()=>f(-1),children:[e.jsx(p,{className:"mr-2 h-4 w-4"}),"Go Back"]})]})})})}):s?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-blue-100/50 px-4 py-8",children:e.jsxs("div",{className:"max-w-5xl mx-auto",children:[e.jsxs(d,{variant:"ghost",size:"sm",onClick:()=>f(-1),className:"mb-6 text-gray-600 hover:text-gray-900",children:[e.jsx(p,{className:"mr-1 h-4 w-4"})," Back"]}),e.jsxs(B.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"bg-white rounded-xl shadow-sm border border-blue-100 overflow-hidden",children:[e.jsxs("div",{className:"h-48 bg-gradient-to-r from-blue-600 to-blue-400 relative",children:[e.jsx("div",{className:"absolute inset-0",style:{backgroundImage:"radial-gradient(circle at 1px 1px, rgba(255, 255, 255, 0.15) 1px, transparent 0)",backgroundSize:"20px 20px"}}),e.jsx("div",{className:"absolute -bottom-16 left-8 flex items-end",children:e.jsx("div",{className:"w-32 h-32 rounded-full bg-white p-1 shadow-md",children:s.profilePicture?e.jsx("img",{src:s.profilePicture,alt:s.name,className:"w-full h-full rounded-full object-cover"}):e.jsx("div",{className:"w-full h-full rounded-full bg-gradient-to-r from-blue-600 to-blue-400 flex items-center justify-center",children:e.jsx("span",{className:"text-white text-4xl font-semibold",children:E(s.name)})})})})]}),e.jsxs("div",{className:"pt-20 pb-8 px-8",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between md:items-center gap-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:N(s,"name","Developer")}),s.verified&&e.jsxs(v,{variant:"blue",className:"bg-blue-100",children:[e.jsx(z,{className:"h-3 w-3 mr-1 text-blue-600"}),"Verified"]})]}),e.jsxs("p",{className:"text-gray-600 flex items-center gap-2 mt-1",children:[e.jsx(W,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm",children:s.email})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(d,{variant:"outline",size:"sm",children:"Contact"}),e.jsx(d,{size:"sm",children:"Hire Now"})]})]}),s.about&&e.jsxs("div",{className:"mt-8",children:[e.jsx("h2",{className:"text-lg font-semibold mb-2",children:"About"}),e.jsx("p",{className:"text-gray-700",children:s.about})]}),s.skills&&e.jsxs("div",{className:"mt-8",children:[e.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Skills"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:N(s,"skills","").split(",").map((l,t)=>e.jsxs(v,{variant:"outline",className:"bg-blue-50 border-blue-200",children:[e.jsx(I,{className:"h-3 w-3 mr-1 text-blue-600"}),l.trim()||"Unknown"]},t))})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-8",children:[e.jsxs(a,{children:[e.jsx(g,{className:"pb-2",children:e.jsx(b,{className:"text-sm text-gray-500 uppercase tracking-wider",children:"Developer Information"})}),e.jsx(i,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Developer ID"}),e.jsx("p",{className:"font-medium text-gray-900 break-all",children:s.externalId})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Joined"}),e.jsx("p",{className:"font-medium text-gray-900",children:k(s.createdAt)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Availability"}),e.jsx("p",{className:"font-medium text-gray-900",children:s.availability||"Not specified"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Preferred Work Type"}),e.jsx("p",{className:"font-medium text-gray-900",children:s.preferredWorkType||"Not specified"})]})]})})]}),e.jsxs(a,{children:[e.jsx(g,{className:"pb-2",children:e.jsx(b,{className:"text-sm text-gray-500 uppercase tracking-wider",children:"Portfolio & Links"})}),e.jsx(i,{children:e.jsxs("div",{className:"space-y-4",children:[s.portfolio&&e.jsxs("div",{className:"space-y-3",children:[s.portfolio.GITHUB&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(G,{className:"h-4 w-4 text-gray-700 mr-2"}),e.jsx("a",{href:s.portfolio.GITHUB,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 hover:underline text-sm",children:s.portfolio.GITHUB})]}),s.portfolio.LINKEDIN&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(R,{className:"h-4 w-4 text-gray-700 mr-2"}),e.jsx("a",{href:s.portfolio.LINKEDIN,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 hover:underline text-sm",children:s.portfolio.LINKEDIN})]}),s.portfolio.PERSONAL_WEBSITE&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(F,{className:"h-4 w-4 text-gray-700 mr-2"}),e.jsx("a",{href:s.portfolio.PERSONAL_WEBSITE,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 hover:underline text-sm",children:s.portfolio.PERSONAL_WEBSITE})]})]}),s.resume&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Resume"}),e.jsxs("a",{href:`/api/files/${s.resume}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 hover:underline flex items-center",children:[e.jsx(O,{className:"h-4 w-4 mr-2"}),"View Resume"]})]})]})})]})]}),e.jsxs("div",{className:"mt-8",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Stats & Accomplishments"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsx(a,{children:e.jsxs(i,{className:"p-4 flex flex-col items-center",children:[e.jsx(_,{className:"h-8 w-8 text-blue-600 mb-1"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:s.completedProjects||0}),e.jsx("p",{className:"text-sm text-gray-500",children:"Projects Completed"})]})}),e.jsx(a,{children:e.jsxs(i,{className:"p-4 flex flex-col items-center",children:[e.jsx(H,{className:"h-8 w-8 text-purple-600 mb-1"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:s.rating||"N/A"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Avg. Rating"})]})}),e.jsx(a,{children:e.jsxs(i,{className:"p-4 flex flex-col items-center",children:[e.jsx(T,{className:"h-8 w-8 text-green-600 mb-1"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:s.onTimeDelivery||"N/A"}),e.jsx("p",{className:"text-sm text-gray-500",children:"On-time Delivery"})]})}),e.jsx(a,{children:e.jsxs(i,{className:"p-4 flex flex-col items-center",children:[e.jsx($,{className:"h-8 w-8 text-amber-600 mb-1"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:s.yearsOfExperience||(s.createdAt?Math.floor((new Date-new Date(s.createdAt))/(1e3*60*60*24*365))+"y":"N/A")}),e.jsx("p",{className:"text-sm text-gray-500",children:"Experience"})]})})]})]})]})]})]})}):e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-blue-100/50",children:e.jsx(a,{className:"max-w-md w-full shadow-lg",children:e.jsx(i,{className:"p-6",children:e.jsxs("div",{className:"flex flex-col items-center text-center",children:[e.jsx(A,{className:"w-16 h-16 text-gray-400 mb-4"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Developer Not Found"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"The developer profile you're looking for does not exist or has been removed."}),e.jsxs(d,{onClick:()=>f(-1),children:[e.jsx(p,{className:"mr-2 h-4 w-4"}),"Go Back"]})]})})})})};export{X as default};
